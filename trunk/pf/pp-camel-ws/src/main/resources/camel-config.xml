<?xml version="1.0" encoding="ISO-8859-1"?>

<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:camel="http://camel.apache.org/schema/spring"
       xmlns:cxf="http://camel.apache.org/schema/cxf"
       xsi:schemaLocation="
       http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
       http://camel.apache.org/schema/spring http://camel.apache.org/schema/spring/camel-spring.xsd
       http://camel.apache.org/schema/cxf http://camel.apache.org/schema/cxf/camel-cxf.xsd">
  <!-- We still need it for loading the CXFServlet --> 
  <import resource="classpath:META-INF/cxf/cxf.xml"/>
  
  <bean id="myRoutes" class="org.apache.camel.example.cxf.CamelRoute"/>
  
  <bean id="obterResposta" class="org.apache.camel.example.cxf.ObterResposta" />
  <bean id="obterExcecaoIn" class="org.apache.camel.example.cxf.ObterExcecaoIn" />
  <bean id="obterExcecaoOut" class="org.apache.camel.example.cxf.ObterExcecaoOut" />
  <bean id="obterListaExcecaoIn" class="org.apache.camel.example.cxf.ObterListaExcecaoIn" />
  <bean id="obterListaExcecaoOut" class="org.apache.camel.example.cxf.ObterListaExcecaoOut" />
  
  <camelContext xmlns="http://camel.apache.org/schema/spring">
    <routeBuilder ref="myRoutes"/>
    
    <route>
		<from uri="direct:recuperarRespostaTeste" />
		<process ref="obterResposta" />
		<log message="(1) Obtendo Resposta de Serviço Web" />
		<to uri="mock:result" />
	</route>
	
    <route streamCache="false">
		<from uri="direct:consultarExcecao" />
		<process ref="obterExcecaoIn" />
		<log message="(2) Obtendo Excecao" />
<!-- 		<to uri="spring-ws:http://192.168.0.106:8080/portal-servicos/IServicePortal?soapAction=http://192.168.0.106:8080/jaxws/consultarExcecao" /> -->
		<to uri="spring-ws:http://10.32.49.26:8080/portal-servicos/IServicePortal?soapAction=http://10.32.49.26:8080/jaxws/consultarExcecao" />
		<process ref="obterExcecaoOut" />
	</route>
	
    <route streamCache="true">
		<from uri="direct:consultarListaExcecao" />
		<process ref="obterListaExcecaoIn" />
		<log message="(3) Obtendo Lista Excecao" />
<!-- 		<to uri="spring-ws:http://192.16.0.106:8080/portal-servicos/IServicePortal?soapAction=http://192.168.0.106:8080/jaxws/consultarListaExcecao" /> -->
		<to uri="spring-ws:http://10.32.49.26:8080/portal-servicos/IServicePortal?soapAction=http://10.32.49.26:8080/jaxws/consultarListaExcecao" />
		<process ref="obterListaExcecaoOut" />
	</route>
		
  </camelContext>
  
 </beans>
